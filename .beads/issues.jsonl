{"id":"mcp-02c","title":"Phase 2: Foundational - Types \u0026 ProtectedResourceAuth Combinator","description":"Add ProtectedResourceMetadata type and ProtectedResourceAuth combinator to src/MCP/Server/Auth.hs.\n\n## Tasks (T004-T014)\n\n### ProtectedResourceMetadata Type\n- T004: Add ProtectedResourceMetadata data type\n- T005: Add ToJSON instance with RFC9728 field names\n- T006: Add FromJSON instance\n- T007: Export ProtectedResourceMetadata\n\n### ProtectedResourceAuth Combinator (Framework-level 401 handling)\n- T008: Add ProtectedResourceAuth data type (type-level tag)\n- T009: Add ProtectedResourceAuthConfig with resourceMetadataUrl field\n- T010: Add AuthServerData type family instance\n- T011: Add ThrowAll instance returning 401 with WWW-Authenticate header\n- T012: Export ProtectedResourceAuth and ProtectedResourceAuthConfig\n\n### HTTPServerConfig Updates\n- T013: Add httpProtectedResourceMetadata field\n- T014: Add defaultProtectedResourceMetadata helper\n\n## Key Change\nThe ProtectedResourceAuth combinator handles 401 responses at the framework level - apps don't manually add WWW-Authenticate headers.\n\n## Files to Modify\n- src/MCP/Server/Auth.hs (T004-T012)\n- src/MCP/Server/HTTP.hs (T013-T014)\n\n## Reference\n- Data model: specs/001-claude-mcp-connector/data-model.md\n- RFC9728: https://datatracker.ietf.org/doc/html/rfc9728","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T15:03:14.969232509+01:00","updated_at":"2025-12-08T16:00:58.086118478+01:00","closed_at":"2025-12-08T16:00:58.086118478+01:00","dependencies":[{"issue_id":"mcp-02c","depends_on_id":"mcp-2ij","type":"parent-child","created_at":"2025-12-08T15:03:14.969689739+01:00","created_by":"daemon"}]}
{"id":"mcp-1dt","title":"Phase 1: Setup - Review existing OAuth flow","description":"Review existing OAuth implementation to identify modification points.\n\n**Tasks**:\n- T001: Review existing OAuth flow in src/MCP/Server/HTTP.hs\n- T002: Review existing OAuthConfig in src/MCP/Server/Auth.hs\n\n**Files**: src/MCP/Server/HTTP.hs, src/MCP/Server/Auth.hs\n**Ref**: specs/002-login-auth-page/tasks.md#phase-1-setup","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-08T17:19:13.077467367+01:00","updated_at":"2025-12-08T17:19:13.077467367+01:00"}
{"id":"mcp-1q9","title":"Phase 3: User Story 1 - User Authenticates with Credentials (MVP)","description":"ðŸŽ¯ MVP - Core authentication flow\n\n**Goal**: User can enter username/password on login page and receive authorization code on successful auth.\n\n**Independent Test**: Access /authorize â†’ see login form â†’ submit demo/demo123 â†’ get redirected with code\n\n**Tasks** (T019-T028):\n- Modify handleAuthorize to render login page\n- Implement handleLogin endpoint\n- Wire up session cookies\n- Generate auth code on success\n- Handle invalid credentials\n- Remove autoApproveAuth logic\n\n**Files**: src/MCP/Server/HTTP.hs\n**Spec**: specs/002-login-auth-page/spec.md#user-story-1\n**Acceptance**: 4 scenarios defined in spec","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-08T17:19:42.776012022+01:00","updated_at":"2025-12-08T17:38:21.53318128+01:00","closed_at":"2025-12-08T17:38:21.53318128+01:00","dependencies":[{"issue_id":"mcp-1q9","depends_on_id":"mcp-9k8","type":"parent-child","created_at":"2025-12-08T17:19:42.776487152+01:00","created_by":"daemon"},{"issue_id":"mcp-1q9","depends_on_id":"mcp-6lv","type":"blocks","created_at":"2025-12-08T17:19:42.77705584+01:00","created_by":"daemon"}]}
{"id":"mcp-226","title":"Phase 5: User Story 3 - User Denies Authorization","description":"User can click Deny button to refuse authorization.\n\n**Goal**: User control - can refuse to grant access to requesting application.\n\n**Independent Test**: Access login page â†’ click Deny â†’ get redirected with access_denied error\n\n**Tasks** (T033-T036):\n- Handle action=deny in handleLogin\n- Generate OAuth access_denied error\n- Redirect with error and preserved state\n- Clean up PendingAuthorization on deny\n\n**Files**: src/MCP/Server/HTTP.hs\n**Spec**: specs/002-login-auth-page/spec.md#user-story-3\n**Acceptance**: 2 scenarios defined in spec","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-08T17:20:03.746987606+01:00","updated_at":"2025-12-08T17:42:21.91904816+01:00","closed_at":"2025-12-08T17:42:21.91904816+01:00","dependencies":[{"issue_id":"mcp-226","depends_on_id":"mcp-9k8","type":"parent-child","created_at":"2025-12-08T17:20:03.747730762+01:00","created_by":"daemon"},{"issue_id":"mcp-226","depends_on_id":"mcp-1q9","type":"blocks","created_at":"2025-12-08T17:20:03.748575865+01:00","created_by":"daemon"}]}
{"id":"mcp-2ij","title":"Claude.ai MCP Connector Compatibility","description":"Epic: Enable mcp-http server to work as MCP Connector in Claude.ai\n\n## Overview\nImplement RFC9728 Protected Resource Metadata, ProtectedResourceAuth combinator for automatic WWW-Authenticate headers, and verify Dynamic Client Registration for Claude.ai compatibility.\n\n## Key Deliverables\n1. ProtectedResourceMetadata type in MCP.Server.Auth\n2. ProtectedResourceAuth combinator (framework-level 401 handling with WWW-Authenticate)\n3. /.well-known/oauth-protected-resource endpoint\n4. resource parameter support (RFC8707)\n5. --base-url CLI option for mcp-http\n\n## Architecture\nThe ProtectedResourceAuth combinator handles 401 responses at the framework level. Apps don't manually handle 401 responses - they get RFC9728-compliant WWW-Authenticate headers automatically.\n\n## Related Files\n- Spec: specs/001-claude-mcp-connector/spec.md\n- Plan: specs/001-claude-mcp-connector/plan.md\n- Tasks: specs/001-claude-mcp-connector/tasks.md\n- Data Model: specs/001-claude-mcp-connector/data-model.md\n\n## Success Criteria\n- Claude.ai can discover and connect to mcp-http via OAuth flow\n- All 401 responses include WWW-Authenticate header (automatic via combinator)\n- Full OAuth flow completes successfully","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-08T15:02:49.198242508+01:00","updated_at":"2025-12-08T16:06:36.423462955+01:00","closed_at":"2025-12-08T16:06:36.423462955+01:00"}
{"id":"mcp-3an","title":"Phase 5: Add RFC8707 resource parameter to OAuth endpoints","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T16:00:59.211008466+01:00","updated_at":"2025-12-08T16:02:22.339989886+01:00","closed_at":"2025-12-08T16:02:22.339989886+01:00"}
{"id":"mcp-3pe","title":"Phase 7: Add --base-url CLI option to mcp-http","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T16:01:00.429419385+01:00","updated_at":"2025-12-08T16:04:25.297389839+01:00","closed_at":"2025-12-08T16:04:25.297389839+01:00"}
{"id":"mcp-5el","title":"Phase 1: Setup - Review existing OAuth flow","description":"Review existing OAuth implementation to identify modification points.\n\n**Tasks**:\n- T001: Review existing OAuth flow in src/MCP/Server/HTTP.hs\n- T002: Review existing OAuthConfig in src/MCP/Server/Auth.hs\n\n**Files**: src/MCP/Server/HTTP.hs, src/MCP/Server/Auth.hs\n**Ref**: specs/002-login-auth-page/tasks.md#phase-1-setup","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T17:19:19.547126148+01:00","updated_at":"2025-12-08T17:29:52.773078772+01:00","closed_at":"2025-12-08T17:29:52.773078772+01:00","dependencies":[{"issue_id":"mcp-5el","depends_on_id":"mcp-9k8","type":"parent-child","created_at":"2025-12-08T17:19:19.547570322+01:00","created_by":"daemon"}]}
{"id":"mcp-6lv","title":"Phase 2: Foundational Types and Pure Functions","description":"Core types and infrastructure that MUST be complete before ANY user story.\n\n**Types** (Constitution Principle I):\n- T003: HTML content type\n- T004-T008: CredentialStore, PendingAuthorization, LoginForm, LoginError, LoginResult\n\n**State Extensions**:\n- T009: Extend OAuthState with pendingAuthorizations\n- T010: Extend OAuthConfig with credentialStore\n\n**Pure Functions** (Constitution Principle V):\n- T011-T013: mkHashedPassword, validateCredential, defaultDemoCredentialStore\n\n**Templates**:\n- T014-T015: renderLoginPage, renderErrorPage\n\n**Tests**:\n- T016-T018: Unit tests for credential validation\n\n**Files**: src/MCP/Server/HTTP.hs, src/MCP/Server/Auth.hs, test/Main.hs\n**Ref**: specs/002-login-auth-page/tasks.md#phase-2-foundational","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T17:19:31.591532583+01:00","updated_at":"2025-12-08T17:32:44.566833871+01:00","closed_at":"2025-12-08T17:32:44.566833871+01:00","dependencies":[{"issue_id":"mcp-6lv","depends_on_id":"mcp-9k8","type":"parent-child","created_at":"2025-12-08T17:19:31.591997513+01:00","created_by":"daemon"},{"issue_id":"mcp-6lv","depends_on_id":"mcp-5el","type":"blocks","created_at":"2025-12-08T17:19:31.59248263+01:00","created_by":"daemon"}]}
{"id":"mcp-7ef","title":"Phase 7: Polish and Validation","description":"Final cleanup and validation.\n\n**Tasks** (T042-T046):\n- Update http-server.hs to log demo credentials\n- Verify cabal build succeeds\n- Run cabal test\n- Run manual test with oauth-client-demo.sh\n- Update CLAUDE.md if needed\n\n**Files**: examples/http-server.hs, CLAUDE.md\n**Validation**: specs/002-login-auth-page/quickstart.md","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-08T17:20:19.446656394+01:00","updated_at":"2025-12-08T17:49:32.693133357+01:00","closed_at":"2025-12-08T17:49:32.693133357+01:00","dependencies":[{"issue_id":"mcp-7ef","depends_on_id":"mcp-9k8","type":"parent-child","created_at":"2025-12-08T17:20:19.447140413+01:00","created_by":"daemon"},{"issue_id":"mcp-7ef","depends_on_id":"mcp-qne","type":"blocks","created_at":"2025-12-08T17:20:19.447685536+01:00","created_by":"daemon"},{"issue_id":"mcp-7ef","depends_on_id":"mcp-nbp","type":"blocks","created_at":"2025-12-08T17:20:19.448233943+01:00","created_by":"daemon"},{"issue_id":"mcp-7ef","depends_on_id":"mcp-226","type":"blocks","created_at":"2025-12-08T17:20:19.448754305+01:00","created_by":"daemon"}]}
{"id":"mcp-8fc","title":"US2: Dynamic Client Registration Verification","description":"User Story 2: Dynamic Client Registration\n\n## Goal\nVerify DCR endpoint works correctly for Claude.ai client registration per RFC7591.\n\n## Tasks (T019-T021)\n- T019: Verify /register endpoint returns correct RFC7591 response format\n- T020: Verify ClientRegistrationResponse includes all required fields\n- T021: Document DCR endpoint in startup output\n\n## Files to Review/Modify\n- src/MCP/Server/HTTP.hs (verification)\n- examples/http-server.hs (documentation)\n\n## Note\nDCR is already implemented. This is verification and documentation.\n\n## Independent Test\nPOST /register with client metadata â†’ returns client_id\n\n## Acceptance Scenarios (from spec.md)\n1. Claude.ai can POST client metadata and receive client_id\n2. Registered client_id is accepted in authorization flow","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T15:03:36.862450647+01:00","updated_at":"2025-12-08T16:06:27.087549382+01:00","closed_at":"2025-12-08T16:06:27.087549382+01:00","dependencies":[{"issue_id":"mcp-8fc","depends_on_id":"mcp-2ij","type":"parent-child","created_at":"2025-12-08T15:03:36.862910609+01:00","created_by":"daemon"},{"issue_id":"mcp-8fc","depends_on_id":"mcp-02c","type":"blocks","created_at":"2025-12-08T15:03:36.863444313+01:00","created_by":"daemon"}]}
{"id":"mcp-9k8","title":"Login Landing Page and User Authentication","description":"Epic for 002-login-auth-page feature branch.\n\nImplement a login landing page and authentication endpoints for the mcp-http example application, replacing the current auto-approval OAuth flow with real user authentication.\n\n**Spec**: specs/002-login-auth-page/spec.md\n**Plan**: specs/002-login-auth-page/plan.md\n**Tasks**: specs/002-login-auth-page/tasks.md\n\n**User Stories**:\n- US1 (P1): User Authenticates with Credentials (MVP)\n- US2 (P2): User Views Login Context\n- US3 (P3): User Denies Authorization\n\n**Demo Credentials**: demo/demo123, admin/admin456","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-08T17:18:55.256834103+01:00","updated_at":"2025-12-08T17:49:32.704473351+01:00","closed_at":"2025-12-08T17:49:32.704473351+01:00"}
{"id":"mcp-e7d","title":"US1: Protected Resource Discovery (MVP)","description":"User Story 1: Add MCP Server as Claude Connector\n\n## Goal\nEnable Claude.ai to discover MCP server via RFC9728 Protected Resource Metadata endpoint. The ProtectedResourceAuth combinator handles 401 responses with WWW-Authenticate header automatically.\n\n## Tasks (T015-T020)\n- T015: Add ProtectedResourceAPI type for endpoint\n- T016: Update OAuthAPI to include ProtectedResourceAPI\n- T017: Implement handleProtectedResourceMetadata handler\n- T018: Wire handler into oauthServer\n- T019: Update MCPAPI type to use ProtectedResourceAuth combinator\n- T020: Add ProtectedResourceAuthConfig to server context\n\n## Key Change\nThe combinator handles 401 + WWW-Authenticate at framework level. No manual 401 handling needed in app code.\n\n## Files to Modify\n- src/MCP/Server/HTTP.hs\n\n## Contract\n- specs/001-claude-mcp-connector/contracts/oauth-protected-resource.yaml\n- specs/001-claude-mcp-connector/contracts/mcp-401-response.yaml\n\n## Independent Test\n1. Start mcp-http with --oauth\n2. GET /.well-known/oauth-protected-resource â†’ valid RFC9728 JSON\n3. POST /mcp without auth â†’ 401 with WWW-Authenticate header (automatic)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-08T15:03:26.309888358+01:00","updated_at":"2025-12-08T16:02:59.175594015+01:00","closed_at":"2025-12-08T16:02:59.175594015+01:00","dependencies":[{"issue_id":"mcp-e7d","depends_on_id":"mcp-2ij","type":"parent-child","created_at":"2025-12-08T15:03:26.310372296+01:00","created_by":"daemon"},{"issue_id":"mcp-e7d","depends_on_id":"mcp-02c","type":"blocks","created_at":"2025-12-08T15:03:26.311037778+01:00","created_by":"daemon"}]}
{"id":"mcp-es2","title":"US3: OAuth Flow with Resource Parameter","description":"User Story 3: OAuth Authorization Flow with PKCE\n\n## Goal\nAccept resource parameter in OAuth authorization and token endpoints per RFC8707.\n\n## Tasks (T022-T026)\n- T022: Add resource parameter to authorize endpoint in OAuthAPI type\n- T023: Update handleAuthorize function signature\n- T024: Log resource parameter in handleAuthorize\n- T025: Accept resource parameter in token request\n- T026: Log resource parameter from token request\n\n## Files to Modify\n- src/MCP/Server/HTTP.hs\n\n## Reference\n- RFC8707: https://www.rfc-editor.org/rfc/rfc8707.html\n- Research: specs/001-claude-mcp-connector/research.md\n\n## Independent Test\nFull PKCE flow with resource parameter succeeds\n\n## Acceptance Scenarios (from spec.md)\n1. Server accepts code_challenge and returns authorization code\n2. Valid code_verifier exchanges for access_token + refresh_token\n3. Invalid code_verifier rejected with invalid_grant","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T15:03:50.546778523+01:00","updated_at":"2025-12-08T16:06:47.470235822+01:00","closed_at":"2025-12-08T16:06:47.470235822+01:00","dependencies":[{"issue_id":"mcp-es2","depends_on_id":"mcp-2ij","type":"parent-child","created_at":"2025-12-08T15:03:50.547605186+01:00","created_by":"daemon"},{"issue_id":"mcp-es2","depends_on_id":"mcp-e7d","type":"blocks","created_at":"2025-12-08T15:03:50.548448864+01:00","created_by":"daemon"}]}
{"id":"mcp-ghv","title":"Phase 8: Testing and documentation updates","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T16:01:01.24137995+01:00","updated_at":"2025-12-08T16:06:25.937545169+01:00","closed_at":"2025-12-08T16:06:25.937545169+01:00"}
{"id":"mcp-iss","title":"Example App: --base-url CLI Option","description":"Update mcp-http example with --base-url CLI option\n\n## Goal\nAllow users to configure the public URL for OAuth endpoints when running behind a reverse proxy.\n\n## Tasks (T029-T032)\n- T029: Add --base-url CLI option to Options parser\n- T030: Update HTTPServerConfig construction to use provided base URL\n- T031: Update startup output to show Protected Resource Metadata endpoint URL\n- T032: Update OAuth demo instructions in startup output\n\n## Files to Modify\n- examples/http-server.hs\n\n## Reference\n- Quickstart: specs/001-claude-mcp-connector/quickstart.md\n- FR-009 from spec.md\n\n## Acceptance Criteria\n- mcp-http --help shows --base-url option\n- --base-url value used in OAuth endpoint URLs\n- Startup output shows correct discovery URLs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T15:04:09.071566208+01:00","updated_at":"2025-12-08T16:06:49.335369965+01:00","closed_at":"2025-12-08T16:06:49.335369965+01:00","dependencies":[{"issue_id":"mcp-iss","depends_on_id":"mcp-2ij","type":"parent-child","created_at":"2025-12-08T15:04:09.072034719+01:00","created_by":"daemon"},{"issue_id":"mcp-iss","depends_on_id":"mcp-e7d","type":"blocks","created_at":"2025-12-08T15:04:09.072843121+01:00","created_by":"daemon"}]}
{"id":"mcp-ko3","title":"Phase 2: Foundational - Core Types","description":"Add ProtectedResourceMetadata type and update HTTPServerConfig.\n\n## Tasks (T004-T009)\n- T004: Add ProtectedResourceMetadata data type to src/MCP/Server/Auth.hs\n- T005: Add ToJSON instance with RFC9728 field names\n- T006: Add FromJSON instance\n- T007: Export ProtectedResourceMetadata from module\n- T008: Add httpProtectedResourceMetadata field to HTTPServerConfig\n- T009: Add defaultProtectedResourceMetadata helper function\n\n## Files to Modify\n- src/MCP/Server/Auth.hs (T004-T007)\n- src/MCP/Server/HTTP.hs (T008-T009)\n\n## Reference\n- Data model: specs/001-claude-mcp-connector/data-model.md\n- RFC9728: https://datatracker.ietf.org/doc/html/rfc9728\n\n## Acceptance Criteria\n- ProtectedResourceMetadata type compiles\n- JSON serialization matches RFC9728 field names\n- HTTPServerConfig has new optional field","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-08T15:03:08.133383251+01:00","updated_at":"2025-12-08T15:04:31.523262774+01:00","closed_at":"2025-12-08T15:04:31.523262774+01:00"}
{"id":"mcp-n10","title":"Polish: Documentation \u0026 Validation","description":"Final polish and validation tasks\n\n## Goal\nDocumentation updates, testing, and final validation against Claude.ai.\n\n## Tasks (T035-T042)\n- T035: Update CLAUDE.md with ProtectedResourceAuth combinator and Protected Resource Metadata docs\n- T036: Update oauth-client-demo.sh to test protected resource metadata endpoint\n- T037: Run cabal build and fix compilation errors\n- T038: Run cabal test and verify tests pass\n- T039: Manual test: /.well-known/oauth-protected-resource\n- T040: Manual test: 401 with WWW-Authenticate header (via combinator)\n- T041: Manual test: full OAuth flow from quickstart.md\n- T042: Validate against quickstart.md\n\n## Files to Modify\n- CLAUDE.md\n- examples/oauth-client-demo.sh\n\n## Final Validation\n- Claude.ai can add mcp-http as connector\n- Complete OAuth flow succeeds (ProtectedResourceAuth combinator handles 401s)\n- MCP tools available in Claude.ai\n\n## Reference\n- Quickstart: specs/001-claude-mcp-connector/quickstart.md\n- Success Criteria: SC-001 through SC-005 in spec.md","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-08T15:04:19.147124574+01:00","updated_at":"2025-12-08T15:31:36.03838859+01:00","dependencies":[{"issue_id":"mcp-n10","depends_on_id":"mcp-2ij","type":"parent-child","created_at":"2025-12-08T15:04:19.147935162+01:00","created_by":"daemon"},{"issue_id":"mcp-n10","depends_on_id":"mcp-e7d","type":"blocks","created_at":"2025-12-08T15:04:19.148742093+01:00","created_by":"daemon"},{"issue_id":"mcp-n10","depends_on_id":"mcp-iss","type":"blocks","created_at":"2025-12-08T15:04:19.149507012+01:00","created_by":"daemon"}]}
{"id":"mcp-nbp","title":"Phase 4: User Story 2 - User Views Login Context","description":"Login page displays requesting application name and requested permissions.\n\n**Goal**: Security transparency - user sees what app is requesting access and what permissions.\n\n**Independent Test**: Register client with name â†’ authorize â†’ see client name and scopes on login page\n\n**Tasks** (T029-T032):\n- Extend renderLoginPage to display client name\n- Look up client name from registeredClients\n- Display human-readable scope descriptions\n- Add scope-to-description mapping\n\n**Files**: src/MCP/Server/HTTP.hs\n**Spec**: specs/002-login-auth-page/spec.md#user-story-2\n**Acceptance**: 2 scenarios defined in spec","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-08T17:19:51.065226589+01:00","updated_at":"2025-12-08T17:42:21.911456968+01:00","closed_at":"2025-12-08T17:42:21.911456968+01:00","dependencies":[{"issue_id":"mcp-nbp","depends_on_id":"mcp-9k8","type":"parent-child","created_at":"2025-12-08T17:19:51.066010379+01:00","created_by":"daemon"},{"issue_id":"mcp-nbp","depends_on_id":"mcp-1q9","type":"blocks","created_at":"2025-12-08T17:19:51.066837701+01:00","created_by":"daemon"}]}
{"id":"mcp-psg","title":"US4: Token Refresh Verification","description":"User Story 4: Token Refresh\n\n## Goal\nVerify token refresh works correctly for long-running Claude.ai sessions.\n\n## Tasks (T027-T028)\n- T027: Verify handleRefreshTokenGrant returns correct TokenResponse\n- T028: Verify refresh_token rotation works correctly\n\n## Files to Review\n- src/MCP/Server/HTTP.hs\n\n## Note\nToken refresh is already implemented. This is verification only.\n\n## Independent Test\nPOST /token with refresh_token grant â†’ returns new access_token\n\n## Acceptance Scenario (from spec.md)\nGiven valid refresh_token, when client requests grant_type=refresh_token, then server issues new access_token","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T15:04:00.399566+01:00","updated_at":"2025-12-08T16:06:27.786563406+01:00","closed_at":"2025-12-08T16:06:27.786563406+01:00","dependencies":[{"issue_id":"mcp-psg","depends_on_id":"mcp-2ij","type":"parent-child","created_at":"2025-12-08T15:04:00.400051469+01:00","created_by":"daemon"},{"issue_id":"mcp-psg","depends_on_id":"mcp-02c","type":"blocks","created_at":"2025-12-08T15:04:00.400601992+01:00","created_by":"daemon"}]}
{"id":"mcp-qne","title":"Phase 6: Edge Cases and Error Handling","description":"Handle error scenarios from spec edge cases.\n\n**Tasks** (T037-T041):\n- Handle invalid/missing OAuth parameters\n- Handle expired sessions (check pendingCreatedAt)\n- Handle cookies disabled\n- Handle unregistered client_id\n- Handle invalid redirect_uri\n\n**Files**: src/MCP/Server/HTTP.hs\n**Spec**: specs/002-login-auth-page/spec.md#edge-cases","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T17:20:11.975638094+01:00","updated_at":"2025-12-08T17:46:21.331164293+01:00","closed_at":"2025-12-08T17:46:21.331164293+01:00","dependencies":[{"issue_id":"mcp-qne","depends_on_id":"mcp-9k8","type":"parent-child","created_at":"2025-12-08T17:20:11.97612816+01:00","created_by":"daemon"},{"issue_id":"mcp-qne","depends_on_id":"mcp-1q9","type":"blocks","created_at":"2025-12-08T17:20:11.976664282+01:00","created_by":"daemon"}]}
